<!-- Search -->
<div class="bg-white rounded-lg border shadow-md">
  <div class="py-2 px-2 flex flex-wrap text-sm font-medium text-center text-gray-500 bg-gray-50 rounded-t-lg border-b border-gray-200">
    Search
  </div>

  <div class="mb-3 text-gray-500">
    <%= search_form_for @search, html: { data: { turbo_frame: "orders-list" } } do |f| %>
      <div class="grid md:grid-cols-8 md:gap-2 p-2">
        <div class='col-span-1'>
          <%= f.label :po_number_cont, "PO Number", class: "block mb-2 text-sm font-medium text-gray-900" %>
          <%= f.search_field :po_number_cont, class: "bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" %>
        </div>

        <div class='col-span-1'>
          <%= f.label :po_date, 'From: ', class: 'text-sm font-medium text-gray-900' %>
          <%= f.date_field :po_date_gteq, class: 'bg-gray-50 border border-gray-300 text-sm text-gray-900 rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5' %>
        </div>

        <div class='col-span-1'>
          <%= f.label :po_date, 'To: ', class: 'text-sm font-medium text-gray-900' %>
          <%= f.date_field :po_date_lteq, class: 'bg-gray-50 border border-gray-300 text-sm text-gray-900 rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5' %>
        </div>

        <div class='col-span-1'>
          <%= f.label :po_type, 'PO Type: ', class: 'text-sm font-medium text-gray-900' %>
          <%= f.search_field :po_type_cont, class: 'bg-gray-50 border border-gray-300 text-sm text-gray-900 rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5' %>
        </div>

        <div class='col-span-1'>
          <%= button_tag(icon_with_text("search", "Search"), class: "inline-flex items-center py-2 px-3 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300") %>
          <%= link_to "Clear", orders_path, class: "inline-flex items-center border border-gray-800 rounded-lg text-sm px-3 py-2 text-gray-900 hover:text-white hover:bg-gray-900 focus:ring-4 focus:outline-none focus:ring-gray-300 font-medium text-center" %>
        </div>
      </div>
    <% end %>
  </div>
</div>

<!-- 一覧 -->
<div class="mt-3 w-full bg-white rounded-lg border shadow-md">
  <div class="p-2 flex flex-wrap text-sm font-medium text-center text-gray-500 bg-gray-50 rounded-t-lg border-b border-gray-200">
    <%= icon_with_text("table", "Purchase Orders") %>
  </div>

  <div class='p-2 flex flex-wrap text-sm font-medium text-gray-500 border-b'>
    <%= form_with url: import_orders_path, data: { turbo_confirm: 'Fetch PO from Amazon?' }, class: 'flex items-center px-4', local: true do |f| %>
      <%= f.date_field :created_after, value: (Time.now - 24 * 60 * 60 * 7).strftime("%Y-%m-%d"), class: 'bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5' %>
      <span class='px-2'>~</span>
      <%= f.date_field :created_before, value: Time.now.strftime("%Y-%m-%d"), class: 'bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5' %>
      <%= f.submit 'Update', class: "ml-2 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded text-sm w-full sm:w-auto px-4 py-2 text-center" %>
    <% end %>

    <%= form_with url: acknowledge_orders_path, data: { turbo_confirm: 'Acknowledge Purchase Orders?' }, class: 'items-center mt-1', local: true do |f| %>
      <%= f.submit 'Acknowledge', class: "text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded text-sm w-full sm:w-auto px-4 py-2 text-center" %>
    <% end %>
  </div>

  <ul class="list-reset flex mt-2 border-b border-blue-600">
    <li class="mr-1">
      <a class="bg-gray-200 inline-block py-2 px-4 text-grey-light font-semibold rounded-t-lg" href="#">New</a>
    </li>
    <li class="-mb-px mr-1">
      <a class="bg-blue-600 text-white inline-block border-l border-t border-r border-blue-600 rounded-t-lg py-2 px-4 text-blue-dark font-semibold" href="#">Acknowledged</a>
    </li>
    <li class="mr-1">
      <a class="bg-gray-200 inline-block py-2 px-4 text-grey-light font-semibold rounded-t-lg" href="#">Rejected</a>
    </li>
    <li class="mr-1">
      <a class="bg-gray-200 inline-block py-2 px-4 text-grey-light font-semibold rounded-t-lg" href="#">Closed</a>
    </li>
  </ul>

    <%= render @orders %>

  <div class="d-flex justify-content-end mt-3">
    <%= paginate @orders %>
  </div>
</div>

